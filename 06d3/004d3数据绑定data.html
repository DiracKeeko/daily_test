<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>004</title>
    <script src="../common/lib/d3.min.js"></script>
  </head>
  <body>
    <h3></h3>
    <h3></h3>
    <h3></h3>
    <h3></h3>
  </body>

  <script>
    // data()：绑定一个数组到选择集上，数组的各项值分别与选择集的各元素绑定

    var lyrics = [
      '我是一只小小小小鸟',
      '想要飞呀飞却飞也飞不高',
      '我寻寻觅觅寻寻觅觅一个温暖的怀抱',
      '这样的要求算不算太高'
    ];
    var h3 = d3.selectAll('h3');
    h3.data(lyrics).text(function (v, i) {
      return `我是第${i}个h3标签, 内容是: ${v}`;
    });

    /* 
    // 上下两段代码的执行结果一样
    for (let i = 0; i < 4; i++) {
      h3.text(function (v, i) {
        return `我是第${i}个h3标签, 内容是: ${lyrics[i]} >>use for循环`;
      })
    }
    */

    //    运行结果如下：
    //    我是第0个h3标签，内容是：我是一只小小小小鸟
    //    我是第1个h3标签，内容是：想要飞呀飞却飞也飞不高
    //    我是第2个h3标签，内容是：我寻寻觅觅寻寻觅觅一个温暖的怀抱
    //    我是第3个h3标签，内容是：这样的要求算不算太高


    // 注意：如果用data绑定数据，但传入一个字符串，这个字符串会被拆分为数组
    /* 
    const solidText = '我是一只小小小小鸟';
    h3.data(solidText).text(function (v, i) {
      return `我是第${i}个h3标签, 内容是: ${v}`;
    });
    // 我是第0个h3标签, 内容是: 我
    // 我是第1个h3标签, 内容是: 是
    // 我是第2个h3标签, 内容是: 一
    // 我是第3个h3标签, 内容是: 只
    */
  </script>
</html>
